# 3DS2 (3D Secure 2) Integration `[3DS2]`

This section covers integrating 3D Secure 2 (also known as EMV 3-D Secure) for Strong Customer Authentication (SCA), primarily for European transactions but increasingly relevant globally.

## Overview

*(High-level explanation of 3DS2, SCA, and its benefits/requirements needs to be extracted from the '3DS2 Integration > Overview' page)*

3D Secure 2 is an authentication protocol designed to reduce fraud in online card payments and meet regulatory requirements like PSD2 SCA in Europe. It aims to provide a smoother authentication experience compared to 3DS1 by using more data points for risk assessment, potentially leading to frictionless flows (no challenge) for low-risk transactions.

## Integration Methods

Fat Zebra offers different ways to implement 3DS2:

### Using Hosted Payments Page (HPP)

*(Details on how 3DS2 is handled automatically when using Fat Zebra's HPP need to be extracted from 'Using Hosted Payments Page' page)*

*   **Process:** If you use Fat Zebra's hosted payment pages or certain SDK features that leverage them, Fat Zebra likely handles the 3DS2 authentication flow automatically.
*   **Configuration:** Check if any specific configuration is needed in the Merchant Dashboard or API call to enable/enforce 3DS2 via HPP.

### Using Custom Payments Form (API/SDKs)

*(Details on implementing 3DS2 with a custom form, likely involving API calls and potentially the Javascript SDK, need to be extracted from 'Using Custom Payments Form' page)*

This method gives you more control over the user interface but requires more implementation effort.

*   **Process Outline:**
    1.  Collect card details in your custom form.
    2.  Initiate the purchase via the API ([Purchases](./purchases.md)) or SDK ([SDKs](./sdk.md)), potentially including additional device/browser data.
    3.  **Check Response:** The API response will indicate if 3DS authentication is required.
    4.  **Initiate Challenge (if required):** If authentication is needed, the API response will contain data (e.g., `redirect_url`, `acs_url`, `creq`) needed to perform the challenge.
    5.  **Handle Challenge Flow:** Redirect the user or use the JS SDK to display the challenge (often in an iframe or popup).
    6.  **Notify Server:** Your frontend needs to notify your backend when the challenge is complete.
    7.  **Verify Result:** Your backend makes another API call to Fat Zebra to verify the authentication result.
    8.  **Finalize Purchase:** Proceed based on the final authentication status.
*   **API Fields:** *(List specific request/response fields related to 3DS2, e.g., `perform_3ds`, `three_ds_result`, `acs_url`, `creq`, `transaction_id_3ds`)*.
*   **JS SDK:** The [Javascript SDK](./sdk.md) might provide methods to simplify handling the challenge flow.

## 3DS Cards for Testing `[TEST_DATA]`

*(Link to or list the test cards specifically for simulating 3DS scenarios, extracted from '3DS Cards for Testing' page)*

Refer to the [Testing](./testing.md#3d-secure-simulation) section for test card numbers that trigger different 3DS outcomes (challenge, frictionless, failure).

## Branding Requirements

*(Summary of any branding requirements for displaying card scheme logos during the 3DS flow, extracted from 'Branding Requirements' page)*

## Go-Live Checklist

*(Summary of steps or considerations before enabling 3DS2 in production, extracted from 'Go-Live' page)*

## 3DS2 Outcomes

*(Explanation of possible 3DS2 authentication outcomes and how they are represented in API responses/webhooks, extracted from '3DS2 Outcomes' page)*

Possible outcomes include:

*   **Authenticated:** Successful authentication (challenge or frictionless).
*   **Not Authenticated:** Failed authentication.
*   **Authentication Attempted:** Authentication was attempted, but the outcome is uncertain (e.g., technical error).
*   **Authentication Not Required/Available:** Card/issuer not enrolled, or authentication bypassed based on rules/exemptions.

*(Explain how these map to API response fields like `three_ds_result` or similar)*.

---
*See also: [Purchases](./purchases.md), [Testing](./testing.md), [SDKs](./sdk.md), [Webhooks](./webhooks.md)* 